<style type="text/css">
tr.d0 td {
    background-color: #D0D0D0; color: black;
}
tr.d1 td {
    background-color: #F0F0F0; color: black;
}
tr.d0-renewed td {
    background-color: #2DC800; color: black;
}
tr.d1-renewed td {
    background-color: #6FFF44; color: black;
}
tr.d0-flagged td {
    background-color: #FF4848; color: black;
}
tr.d1-flagged td {
    background-color: #FF9797; color: black;
}
</style>
<div>
  <h2>Checkouts</h2>
  <table>
    <tr>
      <th>Title</th>
      <th>Format</th>
      <th>Due Date</th>
      <th>New Due Date</th>
      <th>Days Left</th>
      <th>Renew</th>
    </tr>
[% FOREACH checkout IN checkouts %]
    [% status = '' %]
    [% status = '-renewed' IF checkout.was_renewed; %]
    [% status = '-flagged' IF checkout.flagged; %]
    <tr class="d[% loop.index % 2 %][% status %]">
      <td>[% checkout.title | html %]</td>
      <td>[% checkout.format | html %]</td>
      <td>[% checkout.due_date_orig.strftime('%F') | html %]</td>
      <td><[% checkout.due_date_new.strftime('%F') | html %]/td>
      <td>[% checkout.days_left | html %]</td>
      <td>[% IF checkout.renewable %]<a href="[% checkout.renew_uri %]">renew</a>[% END %]</td>
    </tr>
[% END %]
  </table>
